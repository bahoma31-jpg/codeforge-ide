---
trigger: manual
---

# ⚔️ REVIEW-ONLY / SCOPE-LOCK RULE (Reusable)

## كيفية الاستخدام (إلزامي)
عند استدعاء هذه القاعدة، **سأعطيك أنا (المستخدم)** سطرًا بهذا الشكل:
- TARGET_SCOPE: <PATH>

لا تبدأ قبل أن تكرر TARGET_SCOPE حرفياً وتؤكد أنك قفلته.

---

## 1) وضع التشغيل: مراجعة فقط (NO-TOUCH MODE)
- ممنوع كتابة أي كود جديد.
- ممنوع تعديل أي ملف.
- ممنوع حذف/نقل/إعادة تسمية أي شيء.
- ممنوع تشغيل أدوات تغيّر الملفات (formatters/linters/autofix).
- ممنوع إنشاء PR أو commit أو patch/diff.
- المخرجات = تقرير وتحليل + اقتراحات فقط.

(الهدف: منع التغييرات غير المرغوبة من الوكيل.) [web:23]

---

## 2) قفل النطاق (Scope Lock)
- اعمل فقط داخل: TARGET_SCOPE
- أي ملف خارج TARGET_SCOPE = ممنوع.
- الاستثناء الوحيد: إذا احتجت ملفاً خارج النطاق لفهم Dependency مباشر؛ اذكر السبب واطلب إذناً ثم **توقف**.

---

## 3) قواعد التحقيق العميق (Evidence-first)
- لا تفترض.
- كل ملاحظة يجب أن تُربط بـ: file path + function/class + السلوك/المقطع الذي استندت عليه.
- إذا معلومة ناقصة: اكتب "Unknown" واسأل سؤالاً واحداً واضحاً.

---

## 4) إلزام الدرس 6 (Error Handling) كمحور مراجعة
راجع داخل TARGET_SCOPE:
- أين تتولد الاستثناءات؟ هل تُلتقط؟ هل تُسجّل؟
- هل يوجد Logging حقيقي بدل print؟
- هل توجد رسائل خطأ قابلة للتشخيص للمستخدم/الـ API؟
- إن كان Flask: قيّم نمط التعامل مع الأخطاء وتوحيد الاستجابات. [web:24]

---

## 5) إلزام الدرس 8 (Testing) كمحور مراجعة
راجع داخل TARGET_SCOPE:
- ما الذي يُختبر؟ ما الذي لا يُختبر؟
- أخطر المسارات (Top 10) التي تحتاج اختبارات أولاً.
- اقترح خطة pytest تدريجية (Unit → Integration → Smoke) + ما الذي يجب عمل mock له. [web:8]

---

## 6) البحث الخارجي (GitHub/Internet) — إلزامي وبميزانية صفر
بعد المراجعة، اقترح 5–10 مكتبات/أدوات مجانية مرتبطة مباشرة بما وجدته داخل TARGET_SCOPE.
لكل اقتراح:
- Name + URL
- Problem it solves (مرتبط بملاحظة لديك)
- Why it fits (صفر ميزانية، سهولة دمج)
- Alternative واحد
(مصادر موارد Flask المجانية إن احتجت) [web:6][web:13]

---

## 7) شكل التقرير الإلزامي (Deliverables)
سلّم تقريراً فقط بهذا الهيكل:

A) Findings (P0/P1/P2)
- P0: مشاكل حرجة
- P1: متوسطة
- P2: تحسينات جودة

B) Evidence Map
- file → function/class → symptom → root-cause hypothesis → impact

C) Error Handling Gaps (Lesson 6)
- فجوات + توصيات "بدون كود" + عقد استجابة خطأ موحّد (JSON contract)

D) Testing Plan (Lesson 8)
- ماذا نختبر أولاً ولماذا + أنواع الاختبارات + بيانات الاختبار

E) Zero-Budget Roadmap (7 أيام)
- مهام يومية صغيرة، لكل مهمة: هدف + معيار قبول + كيف نختبر نجاحها

F) Research Results
- قائمة الأدوات/المكتبات مع الروابط والمبررات

---

## 8) شرط التوقف
بعد تسليم التقرير: **توقف** وانتظر أوامر جديدة.